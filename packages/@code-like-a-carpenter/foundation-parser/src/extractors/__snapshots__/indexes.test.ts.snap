// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`@gsi defines a composite, multi-pk, multi-sk GSI 2`] = `
{
  "models": [
    {
      "consistent": false,
      "fields": [
        {
          "columnName": "_ct",
          "columnNamesForRead": [
            "_ct",
          ],
          "computeFunction": undefined,
          "ean": ":createdAt",
          "eav": "#createdAt",
          "fieldName": "createdAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "id",
          "columnNamesForRead": [
            "id",
            "id",
          ],
          "computeFunction": undefined,
          "ean": ":id",
          "eav": "#id",
          "fieldName": "id",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "ID",
        },
        {
          "columnName": "_md",
          "columnNamesForRead": [
            "_md",
          ],
          "computeFunction": undefined,
          "ean": ":updatedAt",
          "eav": "#updatedAt",
          "fieldName": "updatedAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "_v",
          "columnNamesForRead": [
            "_v",
          ],
          "computeFunction": undefined,
          "ean": ":version",
          "eav": "#version",
          "fieldName": "version",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Int",
        },
        {
          "columnName": "a",
          "columnNamesForRead": [
            "a",
            "a",
          ],
          "computeFunction": undefined,
          "ean": ":a",
          "eav": "#a",
          "fieldName": "a",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "b",
          "columnNamesForRead": [
            "b",
            "b",
          ],
          "computeFunction": undefined,
          "ean": ":b",
          "eav": "#b",
          "fieldName": "b",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "x",
          "columnNamesForRead": [
            "x",
            "x",
          ],
          "computeFunction": undefined,
          "ean": ":x",
          "eav": "#x",
          "fieldName": "x",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "y",
          "columnNamesForRead": [
            "y",
            "y",
          ],
          "computeFunction": undefined,
          "ean": ":y",
          "eav": "#y",
          "fieldName": "y",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
      ],
      "isLedger": false,
      "isPublic": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": true,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isComposite": true,
          "name": "gsi1",
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
            {
              "columnName": "b",
              "columnNamesForRead": [
                "b",
                "b",
              ],
              "computeFunction": undefined,
              "ean": ":b",
              "eav": "#b",
              "fieldName": "b",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "partitionKeyIsSingleField": false,
          "partitionKeyPrefix": undefined,
          "projectionType": "all",
          "sortKeyFields": [
            {
              "columnName": "x",
              "columnNamesForRead": [
                "x",
                "x",
              ],
              "computeFunction": undefined,
              "ean": ":x",
              "eav": "#x",
              "fieldName": "x",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
            {
              "columnName": "y",
              "columnNamesForRead": [
                "y",
                "y",
              ],
              "computeFunction": undefined,
              "ean": ":y",
              "eav": "#y",
              "fieldName": "y",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "sortKeyIsSingleField": false,
          "sortKeyPrefix": undefined,
          "type": "gsi",
        },
      ],
      "table": {
        "enableEncryption": true,
        "enablePointInTimeRecovery": true,
        "hasPublicModels": false,
        "hasTtl": false,
        "primaryKey": {
          "isComposite": false,
          "isSingleField": true,
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "partitionKeyPrefix": undefined,
          "type": "primary",
        },
        "secondaryIndexes": [
          {
            "isComposite": true,
            "name": "gsi1",
            "partitionKeyIsSingleField": false,
            "projectionType": "all",
            "sortKeyIsSingleField": false,
            "type": "gsi",
          },
        ],
        "tableName": "TableExample",
      },
      "ttlConfig": undefined,
      "typeName": "Example",
    },
  ],
  "tables": [
    {
      "enableEncryption": true,
      "enablePointInTimeRecovery": true,
      "hasPublicModels": false,
      "hasTtl": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": true,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isComposite": true,
          "name": "gsi1",
          "partitionKeyIsSingleField": false,
          "projectionType": "all",
          "sortKeyIsSingleField": false,
          "type": "gsi",
        },
      ],
      "tableName": "TableExample",
    },
  ],
}
`;

exports[`@gsi defines a composite, multi-pk, single-sk GSI 2`] = `
{
  "models": [
    {
      "consistent": false,
      "fields": [
        {
          "columnName": "_ct",
          "columnNamesForRead": [
            "_ct",
          ],
          "computeFunction": undefined,
          "ean": ":createdAt",
          "eav": "#createdAt",
          "fieldName": "createdAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "id",
          "columnNamesForRead": [
            "id",
            "id",
          ],
          "computeFunction": undefined,
          "ean": ":id",
          "eav": "#id",
          "fieldName": "id",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "ID",
        },
        {
          "columnName": "_md",
          "columnNamesForRead": [
            "_md",
          ],
          "computeFunction": undefined,
          "ean": ":updatedAt",
          "eav": "#updatedAt",
          "fieldName": "updatedAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "_v",
          "columnNamesForRead": [
            "_v",
          ],
          "computeFunction": undefined,
          "ean": ":version",
          "eav": "#version",
          "fieldName": "version",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Int",
        },
        {
          "columnName": "a",
          "columnNamesForRead": [
            "a",
            "a",
          ],
          "computeFunction": undefined,
          "ean": ":a",
          "eav": "#a",
          "fieldName": "a",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "b",
          "columnNamesForRead": [
            "b",
            "b",
          ],
          "computeFunction": undefined,
          "ean": ":b",
          "eav": "#b",
          "fieldName": "b",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "x",
          "columnNamesForRead": [
            "x",
            "x",
          ],
          "computeFunction": undefined,
          "ean": ":x",
          "eav": "#x",
          "fieldName": "x",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "y",
          "columnNamesForRead": [
            "y",
            "y",
          ],
          "computeFunction": undefined,
          "ean": ":y",
          "eav": "#y",
          "fieldName": "y",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
      ],
      "isLedger": false,
      "isPublic": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": true,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isComposite": true,
          "name": "gsi1",
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
            {
              "columnName": "b",
              "columnNamesForRead": [
                "b",
                "b",
              ],
              "computeFunction": undefined,
              "ean": ":b",
              "eav": "#b",
              "fieldName": "b",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "partitionKeyIsSingleField": false,
          "partitionKeyPrefix": undefined,
          "projectionType": "all",
          "sortKeyFields": [
            {
              "columnName": "x",
              "columnNamesForRead": [
                "x",
                "x",
              ],
              "computeFunction": undefined,
              "ean": ":x",
              "eav": "#x",
              "fieldName": "x",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "sortKeyIsSingleField": true,
          "sortKeyPrefix": undefined,
          "type": "gsi",
        },
      ],
      "table": {
        "enableEncryption": true,
        "enablePointInTimeRecovery": true,
        "hasPublicModels": false,
        "hasTtl": false,
        "primaryKey": {
          "isComposite": false,
          "isSingleField": true,
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "partitionKeyPrefix": undefined,
          "type": "primary",
        },
        "secondaryIndexes": [
          {
            "isComposite": true,
            "name": "gsi1",
            "partitionKeyIsSingleField": false,
            "projectionType": "all",
            "sortKeyIsSingleField": true,
            "type": "gsi",
          },
        ],
        "tableName": "TableExample",
      },
      "ttlConfig": undefined,
      "typeName": "Example",
    },
  ],
  "tables": [
    {
      "enableEncryption": true,
      "enablePointInTimeRecovery": true,
      "hasPublicModels": false,
      "hasTtl": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": true,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isComposite": true,
          "name": "gsi1",
          "partitionKeyIsSingleField": false,
          "projectionType": "all",
          "sortKeyIsSingleField": true,
          "type": "gsi",
        },
      ],
      "tableName": "TableExample",
    },
  ],
}
`;

exports[`@gsi defines a composite, single-pk, multi-sk GSI 2`] = `
{
  "models": [
    {
      "consistent": false,
      "fields": [
        {
          "columnName": "_ct",
          "columnNamesForRead": [
            "_ct",
          ],
          "computeFunction": undefined,
          "ean": ":createdAt",
          "eav": "#createdAt",
          "fieldName": "createdAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "id",
          "columnNamesForRead": [
            "id",
            "id",
          ],
          "computeFunction": undefined,
          "ean": ":id",
          "eav": "#id",
          "fieldName": "id",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "ID",
        },
        {
          "columnName": "_md",
          "columnNamesForRead": [
            "_md",
          ],
          "computeFunction": undefined,
          "ean": ":updatedAt",
          "eav": "#updatedAt",
          "fieldName": "updatedAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "_v",
          "columnNamesForRead": [
            "_v",
          ],
          "computeFunction": undefined,
          "ean": ":version",
          "eav": "#version",
          "fieldName": "version",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Int",
        },
        {
          "columnName": "a",
          "columnNamesForRead": [
            "a",
            "a",
          ],
          "computeFunction": undefined,
          "ean": ":a",
          "eav": "#a",
          "fieldName": "a",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "b",
          "columnNamesForRead": [
            "b",
            "b",
          ],
          "computeFunction": undefined,
          "ean": ":b",
          "eav": "#b",
          "fieldName": "b",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "x",
          "columnNamesForRead": [
            "x",
            "x",
          ],
          "computeFunction": undefined,
          "ean": ":x",
          "eav": "#x",
          "fieldName": "x",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "y",
          "columnNamesForRead": [
            "y",
            "y",
          ],
          "computeFunction": undefined,
          "ean": ":y",
          "eav": "#y",
          "fieldName": "y",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
      ],
      "isLedger": false,
      "isPublic": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": true,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isComposite": true,
          "name": "gsi1",
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "partitionKeyIsSingleField": true,
          "partitionKeyPrefix": undefined,
          "projectionType": "all",
          "sortKeyFields": [
            {
              "columnName": "x",
              "columnNamesForRead": [
                "x",
                "x",
              ],
              "computeFunction": undefined,
              "ean": ":x",
              "eav": "#x",
              "fieldName": "x",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
            {
              "columnName": "y",
              "columnNamesForRead": [
                "y",
                "y",
              ],
              "computeFunction": undefined,
              "ean": ":y",
              "eav": "#y",
              "fieldName": "y",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "sortKeyIsSingleField": false,
          "sortKeyPrefix": undefined,
          "type": "gsi",
        },
      ],
      "table": {
        "enableEncryption": true,
        "enablePointInTimeRecovery": true,
        "hasPublicModels": false,
        "hasTtl": false,
        "primaryKey": {
          "isComposite": false,
          "isSingleField": true,
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "partitionKeyPrefix": undefined,
          "type": "primary",
        },
        "secondaryIndexes": [
          {
            "isComposite": true,
            "name": "gsi1",
            "partitionKeyIsSingleField": true,
            "projectionType": "all",
            "sortKeyIsSingleField": false,
            "type": "gsi",
          },
        ],
        "tableName": "TableExample",
      },
      "ttlConfig": undefined,
      "typeName": "Example",
    },
  ],
  "tables": [
    {
      "enableEncryption": true,
      "enablePointInTimeRecovery": true,
      "hasPublicModels": false,
      "hasTtl": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": true,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isComposite": true,
          "name": "gsi1",
          "partitionKeyIsSingleField": true,
          "projectionType": "all",
          "sortKeyIsSingleField": false,
          "type": "gsi",
        },
      ],
      "tableName": "TableExample",
    },
  ],
}
`;

exports[`@gsi defines a composite, single-pk, single-sk GSI 2`] = `
{
  "models": [
    {
      "consistent": false,
      "fields": [
        {
          "columnName": "_ct",
          "columnNamesForRead": [
            "_ct",
          ],
          "computeFunction": undefined,
          "ean": ":createdAt",
          "eav": "#createdAt",
          "fieldName": "createdAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "id",
          "columnNamesForRead": [
            "id",
            "id",
          ],
          "computeFunction": undefined,
          "ean": ":id",
          "eav": "#id",
          "fieldName": "id",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "ID",
        },
        {
          "columnName": "_md",
          "columnNamesForRead": [
            "_md",
          ],
          "computeFunction": undefined,
          "ean": ":updatedAt",
          "eav": "#updatedAt",
          "fieldName": "updatedAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "_v",
          "columnNamesForRead": [
            "_v",
          ],
          "computeFunction": undefined,
          "ean": ":version",
          "eav": "#version",
          "fieldName": "version",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Int",
        },
        {
          "columnName": "a",
          "columnNamesForRead": [
            "a",
            "a",
          ],
          "computeFunction": undefined,
          "ean": ":a",
          "eav": "#a",
          "fieldName": "a",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "b",
          "columnNamesForRead": [
            "b",
            "b",
          ],
          "computeFunction": undefined,
          "ean": ":b",
          "eav": "#b",
          "fieldName": "b",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "x",
          "columnNamesForRead": [
            "x",
            "x",
          ],
          "computeFunction": undefined,
          "ean": ":x",
          "eav": "#x",
          "fieldName": "x",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "y",
          "columnNamesForRead": [
            "y",
            "y",
          ],
          "computeFunction": undefined,
          "ean": ":y",
          "eav": "#y",
          "fieldName": "y",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
      ],
      "isLedger": false,
      "isPublic": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": true,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isComposite": true,
          "name": "gsi1",
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "partitionKeyIsSingleField": true,
          "partitionKeyPrefix": undefined,
          "projectionType": "all",
          "sortKeyFields": [
            {
              "columnName": "x",
              "columnNamesForRead": [
                "x",
                "x",
              ],
              "computeFunction": undefined,
              "ean": ":x",
              "eav": "#x",
              "fieldName": "x",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "sortKeyIsSingleField": true,
          "sortKeyPrefix": undefined,
          "type": "gsi",
        },
      ],
      "table": {
        "enableEncryption": true,
        "enablePointInTimeRecovery": true,
        "hasPublicModels": false,
        "hasTtl": false,
        "primaryKey": {
          "isComposite": false,
          "isSingleField": true,
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "partitionKeyPrefix": undefined,
          "type": "primary",
        },
        "secondaryIndexes": [
          {
            "isComposite": true,
            "name": "gsi1",
            "partitionKeyIsSingleField": true,
            "projectionType": "all",
            "sortKeyIsSingleField": true,
            "type": "gsi",
          },
        ],
        "tableName": "TableExample",
      },
      "ttlConfig": undefined,
      "typeName": "Example",
    },
  ],
  "tables": [
    {
      "enableEncryption": true,
      "enablePointInTimeRecovery": true,
      "hasPublicModels": false,
      "hasTtl": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": true,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isComposite": true,
          "name": "gsi1",
          "partitionKeyIsSingleField": true,
          "projectionType": "all",
          "sortKeyIsSingleField": true,
          "type": "gsi",
        },
      ],
      "tableName": "TableExample",
    },
  ],
}
`;

exports[`@gsi defines a simple, multi-field GSI 2`] = `
{
  "models": [
    {
      "consistent": false,
      "fields": [
        {
          "columnName": "_ct",
          "columnNamesForRead": [
            "_ct",
          ],
          "computeFunction": undefined,
          "ean": ":createdAt",
          "eav": "#createdAt",
          "fieldName": "createdAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "id",
          "columnNamesForRead": [
            "id",
            "id",
          ],
          "computeFunction": undefined,
          "ean": ":id",
          "eav": "#id",
          "fieldName": "id",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "ID",
        },
        {
          "columnName": "_md",
          "columnNamesForRead": [
            "_md",
          ],
          "computeFunction": undefined,
          "ean": ":updatedAt",
          "eav": "#updatedAt",
          "fieldName": "updatedAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "_v",
          "columnNamesForRead": [
            "_v",
          ],
          "computeFunction": undefined,
          "ean": ":version",
          "eav": "#version",
          "fieldName": "version",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Int",
        },
        {
          "columnName": "a",
          "columnNamesForRead": [
            "a",
            "a",
          ],
          "computeFunction": undefined,
          "ean": ":a",
          "eav": "#a",
          "fieldName": "a",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "b",
          "columnNamesForRead": [
            "b",
            "b",
          ],
          "computeFunction": undefined,
          "ean": ":b",
          "eav": "#b",
          "fieldName": "b",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "x",
          "columnNamesForRead": [
            "x",
            "x",
          ],
          "computeFunction": undefined,
          "ean": ":x",
          "eav": "#x",
          "fieldName": "x",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "y",
          "columnNamesForRead": [
            "y",
            "y",
          ],
          "computeFunction": undefined,
          "ean": ":y",
          "eav": "#y",
          "fieldName": "y",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
      ],
      "isLedger": false,
      "isPublic": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": true,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isComposite": true,
          "name": "gsi1",
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
            {
              "columnName": "b",
              "columnNamesForRead": [
                "b",
                "b",
              ],
              "computeFunction": undefined,
              "ean": ":b",
              "eav": "#b",
              "fieldName": "b",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "partitionKeyIsSingleField": false,
          "partitionKeyPrefix": undefined,
          "projectionType": "all",
          "sortKeyFields": [],
          "sortKeyIsSingleField": false,
          "sortKeyPrefix": undefined,
          "type": "gsi",
        },
      ],
      "table": {
        "enableEncryption": true,
        "enablePointInTimeRecovery": true,
        "hasPublicModels": false,
        "hasTtl": false,
        "primaryKey": {
          "isComposite": false,
          "isSingleField": true,
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "partitionKeyPrefix": undefined,
          "type": "primary",
        },
        "secondaryIndexes": [
          {
            "isComposite": true,
            "name": "gsi1",
            "partitionKeyIsSingleField": false,
            "projectionType": "all",
            "sortKeyIsSingleField": false,
            "type": "gsi",
          },
        ],
        "tableName": "TableExample",
      },
      "ttlConfig": undefined,
      "typeName": "Example",
    },
  ],
  "tables": [
    {
      "enableEncryption": true,
      "enablePointInTimeRecovery": true,
      "hasPublicModels": false,
      "hasTtl": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": true,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isComposite": true,
          "name": "gsi1",
          "partitionKeyIsSingleField": false,
          "projectionType": "all",
          "sortKeyIsSingleField": false,
          "type": "gsi",
        },
      ],
      "tableName": "TableExample",
    },
  ],
}
`;

exports[`@gsi defines a simple, single-field GSI 2`] = `
{
  "models": [
    {
      "consistent": false,
      "fields": [
        {
          "columnName": "_ct",
          "columnNamesForRead": [
            "_ct",
          ],
          "computeFunction": undefined,
          "ean": ":createdAt",
          "eav": "#createdAt",
          "fieldName": "createdAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "id",
          "columnNamesForRead": [
            "id",
            "id",
          ],
          "computeFunction": undefined,
          "ean": ":id",
          "eav": "#id",
          "fieldName": "id",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "ID",
        },
        {
          "columnName": "_md",
          "columnNamesForRead": [
            "_md",
          ],
          "computeFunction": undefined,
          "ean": ":updatedAt",
          "eav": "#updatedAt",
          "fieldName": "updatedAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "_v",
          "columnNamesForRead": [
            "_v",
          ],
          "computeFunction": undefined,
          "ean": ":version",
          "eav": "#version",
          "fieldName": "version",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Int",
        },
        {
          "columnName": "a",
          "columnNamesForRead": [
            "a",
            "a",
          ],
          "computeFunction": undefined,
          "ean": ":a",
          "eav": "#a",
          "fieldName": "a",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "b",
          "columnNamesForRead": [
            "b",
            "b",
          ],
          "computeFunction": undefined,
          "ean": ":b",
          "eav": "#b",
          "fieldName": "b",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "x",
          "columnNamesForRead": [
            "x",
            "x",
          ],
          "computeFunction": undefined,
          "ean": ":x",
          "eav": "#x",
          "fieldName": "x",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "y",
          "columnNamesForRead": [
            "y",
            "y",
          ],
          "computeFunction": undefined,
          "ean": ":y",
          "eav": "#y",
          "fieldName": "y",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
      ],
      "isLedger": false,
      "isPublic": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": true,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isComposite": true,
          "name": "gsi1",
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "partitionKeyIsSingleField": true,
          "partitionKeyPrefix": undefined,
          "projectionType": "all",
          "sortKeyFields": [],
          "sortKeyIsSingleField": false,
          "sortKeyPrefix": undefined,
          "type": "gsi",
        },
      ],
      "table": {
        "enableEncryption": true,
        "enablePointInTimeRecovery": true,
        "hasPublicModels": false,
        "hasTtl": false,
        "primaryKey": {
          "isComposite": false,
          "isSingleField": true,
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "partitionKeyPrefix": undefined,
          "type": "primary",
        },
        "secondaryIndexes": [
          {
            "isComposite": true,
            "name": "gsi1",
            "partitionKeyIsSingleField": true,
            "projectionType": "all",
            "sortKeyIsSingleField": false,
            "type": "gsi",
          },
        ],
        "tableName": "TableExample",
      },
      "ttlConfig": undefined,
      "typeName": "Example",
    },
  ],
  "tables": [
    {
      "enableEncryption": true,
      "enablePointInTimeRecovery": true,
      "hasPublicModels": false,
      "hasTtl": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": true,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isComposite": true,
          "name": "gsi1",
          "partitionKeyIsSingleField": true,
          "projectionType": "all",
          "sortKeyIsSingleField": false,
          "type": "gsi",
        },
      ],
      "tableName": "TableExample",
    },
  ],
}
`;

exports[`@lsi adds a multi-field LSI to a multi-field primary key 2`] = `
{
  "models": [
    {
      "consistent": false,
      "fields": [
        {
          "columnName": "_ct",
          "columnNamesForRead": [
            "_ct",
          ],
          "computeFunction": undefined,
          "ean": ":createdAt",
          "eav": "#createdAt",
          "fieldName": "createdAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "id",
          "columnNamesForRead": [
            "id",
            "id",
          ],
          "computeFunction": undefined,
          "ean": ":id",
          "eav": "#id",
          "fieldName": "id",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "ID",
        },
        {
          "columnName": "_md",
          "columnNamesForRead": [
            "_md",
          ],
          "computeFunction": undefined,
          "ean": ":updatedAt",
          "eav": "#updatedAt",
          "fieldName": "updatedAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "_v",
          "columnNamesForRead": [
            "_v",
          ],
          "computeFunction": undefined,
          "ean": ":version",
          "eav": "#version",
          "fieldName": "version",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Int",
        },
        {
          "columnName": "a",
          "columnNamesForRead": [
            "a",
            "a",
          ],
          "computeFunction": undefined,
          "ean": ":a",
          "eav": "#a",
          "fieldName": "a",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "b",
          "columnNamesForRead": [
            "b",
            "b",
          ],
          "computeFunction": undefined,
          "ean": ":b",
          "eav": "#b",
          "fieldName": "b",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "x",
          "columnNamesForRead": [
            "x",
            "x",
          ],
          "computeFunction": undefined,
          "ean": ":x",
          "eav": "#x",
          "fieldName": "x",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "y",
          "columnNamesForRead": [
            "y",
            "y",
          ],
          "computeFunction": undefined,
          "ean": ":y",
          "eav": "#y",
          "fieldName": "y",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
      ],
      "isLedger": false,
      "isPublic": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": false,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
          {
            "columnName": "b",
            "columnNamesForRead": [
              "b",
              "b",
            ],
            "computeFunction": undefined,
            "ean": ":b",
            "eav": "#b",
            "fieldName": "b",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isComposite": true,
          "name": "lsi1",
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
            {
              "columnName": "b",
              "columnNamesForRead": [
                "b",
                "b",
              ],
              "computeFunction": undefined,
              "ean": ":b",
              "eav": "#b",
              "fieldName": "b",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "partitionKeyIsSingleField": false,
          "partitionKeyPrefix": undefined,
          "projectionType": "all",
          "sortKeyFields": [
            {
              "columnName": "x",
              "columnNamesForRead": [
                "x",
                "x",
              ],
              "computeFunction": undefined,
              "ean": ":x",
              "eav": "#x",
              "fieldName": "x",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
            {
              "columnName": "y",
              "columnNamesForRead": [
                "y",
                "y",
              ],
              "computeFunction": undefined,
              "ean": ":y",
              "eav": "#y",
              "fieldName": "y",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "sortKeyIsSingleField": false,
          "sortKeyPrefix": undefined,
          "type": "lsi",
        },
      ],
      "table": {
        "enableEncryption": true,
        "enablePointInTimeRecovery": true,
        "hasPublicModels": false,
        "hasTtl": false,
        "primaryKey": {
          "isComposite": false,
          "isSingleField": false,
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
            {
              "columnName": "b",
              "columnNamesForRead": [
                "b",
                "b",
              ],
              "computeFunction": undefined,
              "ean": ":b",
              "eav": "#b",
              "fieldName": "b",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "partitionKeyPrefix": undefined,
          "type": "primary",
        },
        "secondaryIndexes": [
          {
            "isSingleField": false,
            "name": "lsi1",
            "projectionType": "all",
            "type": "lsi",
          },
        ],
        "tableName": "TableExample",
      },
      "ttlConfig": undefined,
      "typeName": "Example",
    },
  ],
  "tables": [
    {
      "enableEncryption": true,
      "enablePointInTimeRecovery": true,
      "hasPublicModels": false,
      "hasTtl": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": false,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
          {
            "columnName": "b",
            "columnNamesForRead": [
              "b",
              "b",
            ],
            "computeFunction": undefined,
            "ean": ":b",
            "eav": "#b",
            "fieldName": "b",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isSingleField": false,
          "name": "lsi1",
          "projectionType": "all",
          "type": "lsi",
        },
      ],
      "tableName": "TableExample",
    },
  ],
}
`;

exports[`@lsi adds a multi-field LSI to a single-field primary key 2`] = `
{
  "models": [
    {
      "consistent": false,
      "fields": [
        {
          "columnName": "_ct",
          "columnNamesForRead": [
            "_ct",
          ],
          "computeFunction": undefined,
          "ean": ":createdAt",
          "eav": "#createdAt",
          "fieldName": "createdAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "id",
          "columnNamesForRead": [
            "id",
            "id",
          ],
          "computeFunction": undefined,
          "ean": ":id",
          "eav": "#id",
          "fieldName": "id",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "ID",
        },
        {
          "columnName": "_md",
          "columnNamesForRead": [
            "_md",
          ],
          "computeFunction": undefined,
          "ean": ":updatedAt",
          "eav": "#updatedAt",
          "fieldName": "updatedAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "_v",
          "columnNamesForRead": [
            "_v",
          ],
          "computeFunction": undefined,
          "ean": ":version",
          "eav": "#version",
          "fieldName": "version",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Int",
        },
        {
          "columnName": "a",
          "columnNamesForRead": [
            "a",
            "a",
          ],
          "computeFunction": undefined,
          "ean": ":a",
          "eav": "#a",
          "fieldName": "a",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "b",
          "columnNamesForRead": [
            "b",
            "b",
          ],
          "computeFunction": undefined,
          "ean": ":b",
          "eav": "#b",
          "fieldName": "b",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "x",
          "columnNamesForRead": [
            "x",
            "x",
          ],
          "computeFunction": undefined,
          "ean": ":x",
          "eav": "#x",
          "fieldName": "x",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "y",
          "columnNamesForRead": [
            "y",
            "y",
          ],
          "computeFunction": undefined,
          "ean": ":y",
          "eav": "#y",
          "fieldName": "y",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
      ],
      "isLedger": false,
      "isPublic": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": true,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isComposite": true,
          "name": "lsi1",
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "partitionKeyIsSingleField": true,
          "partitionKeyPrefix": undefined,
          "projectionType": "all",
          "sortKeyFields": [
            {
              "columnName": "x",
              "columnNamesForRead": [
                "x",
                "x",
              ],
              "computeFunction": undefined,
              "ean": ":x",
              "eav": "#x",
              "fieldName": "x",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
            {
              "columnName": "y",
              "columnNamesForRead": [
                "y",
                "y",
              ],
              "computeFunction": undefined,
              "ean": ":y",
              "eav": "#y",
              "fieldName": "y",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "sortKeyIsSingleField": false,
          "sortKeyPrefix": undefined,
          "type": "lsi",
        },
      ],
      "table": {
        "enableEncryption": true,
        "enablePointInTimeRecovery": true,
        "hasPublicModels": false,
        "hasTtl": false,
        "primaryKey": {
          "isComposite": false,
          "isSingleField": true,
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "partitionKeyPrefix": undefined,
          "type": "primary",
        },
        "secondaryIndexes": [
          {
            "isSingleField": false,
            "name": "lsi1",
            "projectionType": "all",
            "type": "lsi",
          },
        ],
        "tableName": "TableExample",
      },
      "ttlConfig": undefined,
      "typeName": "Example",
    },
  ],
  "tables": [
    {
      "enableEncryption": true,
      "enablePointInTimeRecovery": true,
      "hasPublicModels": false,
      "hasTtl": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": true,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isSingleField": false,
          "name": "lsi1",
          "projectionType": "all",
          "type": "lsi",
        },
      ],
      "tableName": "TableExample",
    },
  ],
}
`;

exports[`@lsi adds a single-field LSI to a multi-field primary key 2`] = `
{
  "models": [
    {
      "consistent": false,
      "fields": [
        {
          "columnName": "_ct",
          "columnNamesForRead": [
            "_ct",
          ],
          "computeFunction": undefined,
          "ean": ":createdAt",
          "eav": "#createdAt",
          "fieldName": "createdAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "id",
          "columnNamesForRead": [
            "id",
            "id",
          ],
          "computeFunction": undefined,
          "ean": ":id",
          "eav": "#id",
          "fieldName": "id",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "ID",
        },
        {
          "columnName": "_md",
          "columnNamesForRead": [
            "_md",
          ],
          "computeFunction": undefined,
          "ean": ":updatedAt",
          "eav": "#updatedAt",
          "fieldName": "updatedAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "_v",
          "columnNamesForRead": [
            "_v",
          ],
          "computeFunction": undefined,
          "ean": ":version",
          "eav": "#version",
          "fieldName": "version",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Int",
        },
        {
          "columnName": "a",
          "columnNamesForRead": [
            "a",
            "a",
          ],
          "computeFunction": undefined,
          "ean": ":a",
          "eav": "#a",
          "fieldName": "a",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "b",
          "columnNamesForRead": [
            "b",
            "b",
          ],
          "computeFunction": undefined,
          "ean": ":b",
          "eav": "#b",
          "fieldName": "b",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "x",
          "columnNamesForRead": [
            "x",
            "x",
          ],
          "computeFunction": undefined,
          "ean": ":x",
          "eav": "#x",
          "fieldName": "x",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "y",
          "columnNamesForRead": [
            "y",
            "y",
          ],
          "computeFunction": undefined,
          "ean": ":y",
          "eav": "#y",
          "fieldName": "y",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
      ],
      "isLedger": false,
      "isPublic": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": false,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
          {
            "columnName": "b",
            "columnNamesForRead": [
              "b",
              "b",
            ],
            "computeFunction": undefined,
            "ean": ":b",
            "eav": "#b",
            "fieldName": "b",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isComposite": true,
          "name": "lsi1",
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
            {
              "columnName": "b",
              "columnNamesForRead": [
                "b",
                "b",
              ],
              "computeFunction": undefined,
              "ean": ":b",
              "eav": "#b",
              "fieldName": "b",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "partitionKeyIsSingleField": false,
          "partitionKeyPrefix": undefined,
          "projectionType": "all",
          "sortKeyFields": [
            {
              "columnName": "x",
              "columnNamesForRead": [
                "x",
                "x",
              ],
              "computeFunction": undefined,
              "ean": ":x",
              "eav": "#x",
              "fieldName": "x",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "sortKeyIsSingleField": true,
          "sortKeyPrefix": undefined,
          "type": "lsi",
        },
      ],
      "table": {
        "enableEncryption": true,
        "enablePointInTimeRecovery": true,
        "hasPublicModels": false,
        "hasTtl": false,
        "primaryKey": {
          "isComposite": false,
          "isSingleField": false,
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
            {
              "columnName": "b",
              "columnNamesForRead": [
                "b",
                "b",
              ],
              "computeFunction": undefined,
              "ean": ":b",
              "eav": "#b",
              "fieldName": "b",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "partitionKeyPrefix": undefined,
          "type": "primary",
        },
        "secondaryIndexes": [
          {
            "isSingleField": true,
            "name": "lsi1",
            "projectionType": "all",
            "type": "lsi",
          },
        ],
        "tableName": "TableExample",
      },
      "ttlConfig": undefined,
      "typeName": "Example",
    },
  ],
  "tables": [
    {
      "enableEncryption": true,
      "enablePointInTimeRecovery": true,
      "hasPublicModels": false,
      "hasTtl": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": false,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
          {
            "columnName": "b",
            "columnNamesForRead": [
              "b",
              "b",
            ],
            "computeFunction": undefined,
            "ean": ":b",
            "eav": "#b",
            "fieldName": "b",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isSingleField": true,
          "name": "lsi1",
          "projectionType": "all",
          "type": "lsi",
        },
      ],
      "tableName": "TableExample",
    },
  ],
}
`;

exports[`@lsi adds a single-field LSI to a single-field primary key 2`] = `
{
  "models": [
    {
      "consistent": false,
      "fields": [
        {
          "columnName": "_ct",
          "columnNamesForRead": [
            "_ct",
          ],
          "computeFunction": undefined,
          "ean": ":createdAt",
          "eav": "#createdAt",
          "fieldName": "createdAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "id",
          "columnNamesForRead": [
            "id",
            "id",
          ],
          "computeFunction": undefined,
          "ean": ":id",
          "eav": "#id",
          "fieldName": "id",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "ID",
        },
        {
          "columnName": "_md",
          "columnNamesForRead": [
            "_md",
          ],
          "computeFunction": undefined,
          "ean": ":updatedAt",
          "eav": "#updatedAt",
          "fieldName": "updatedAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "_v",
          "columnNamesForRead": [
            "_v",
          ],
          "computeFunction": undefined,
          "ean": ":version",
          "eav": "#version",
          "fieldName": "version",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Int",
        },
        {
          "columnName": "a",
          "columnNamesForRead": [
            "a",
            "a",
          ],
          "computeFunction": undefined,
          "ean": ":a",
          "eav": "#a",
          "fieldName": "a",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "b",
          "columnNamesForRead": [
            "b",
            "b",
          ],
          "computeFunction": undefined,
          "ean": ":b",
          "eav": "#b",
          "fieldName": "b",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "x",
          "columnNamesForRead": [
            "x",
            "x",
          ],
          "computeFunction": undefined,
          "ean": ":x",
          "eav": "#x",
          "fieldName": "x",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "y",
          "columnNamesForRead": [
            "y",
            "y",
          ],
          "computeFunction": undefined,
          "ean": ":y",
          "eav": "#y",
          "fieldName": "y",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
      ],
      "isLedger": false,
      "isPublic": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": true,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isComposite": true,
          "name": "lsi1",
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "partitionKeyIsSingleField": true,
          "partitionKeyPrefix": undefined,
          "projectionType": "all",
          "sortKeyFields": [
            {
              "columnName": "x",
              "columnNamesForRead": [
                "x",
                "x",
              ],
              "computeFunction": undefined,
              "ean": ":x",
              "eav": "#x",
              "fieldName": "x",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "sortKeyIsSingleField": true,
          "sortKeyPrefix": undefined,
          "type": "lsi",
        },
      ],
      "table": {
        "enableEncryption": true,
        "enablePointInTimeRecovery": true,
        "hasPublicModels": false,
        "hasTtl": false,
        "primaryKey": {
          "isComposite": false,
          "isSingleField": true,
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "partitionKeyPrefix": undefined,
          "type": "primary",
        },
        "secondaryIndexes": [
          {
            "isSingleField": true,
            "name": "lsi1",
            "projectionType": "all",
            "type": "lsi",
          },
        ],
        "tableName": "TableExample",
      },
      "ttlConfig": undefined,
      "typeName": "Example",
    },
  ],
  "tables": [
    {
      "enableEncryption": true,
      "enablePointInTimeRecovery": true,
      "hasPublicModels": false,
      "hasTtl": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": true,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isSingleField": true,
          "name": "lsi1",
          "projectionType": "all",
          "type": "lsi",
        },
      ],
      "tableName": "TableExample",
    },
  ],
}
`;

exports[`@simpleIndex defines a simple, single-field GSI 2`] = `
{
  "models": [
    {
      "consistent": false,
      "fields": [
        {
          "columnName": "_ct",
          "columnNamesForRead": [
            "_ct",
          ],
          "computeFunction": undefined,
          "ean": ":createdAt",
          "eav": "#createdAt",
          "fieldName": "createdAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "id",
          "columnNamesForRead": [
            "id",
            "id",
          ],
          "computeFunction": undefined,
          "ean": ":id",
          "eav": "#id",
          "fieldName": "id",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "ID",
        },
        {
          "columnName": "_md",
          "columnNamesForRead": [
            "_md",
          ],
          "computeFunction": undefined,
          "ean": ":updatedAt",
          "eav": "#updatedAt",
          "fieldName": "updatedAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "_v",
          "columnNamesForRead": [
            "_v",
          ],
          "computeFunction": undefined,
          "ean": ":version",
          "eav": "#version",
          "fieldName": "version",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Int",
        },
        {
          "columnName": "a",
          "columnNamesForRead": [
            "a",
            "a",
          ],
          "computeFunction": undefined,
          "ean": ":a",
          "eav": "#a",
          "fieldName": "a",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "b",
          "columnNamesForRead": [
            "b",
            "b",
          ],
          "computeFunction": undefined,
          "ean": ":b",
          "eav": "#b",
          "fieldName": "b",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "x",
          "columnNamesForRead": [
            "x",
            "x",
          ],
          "computeFunction": undefined,
          "ean": ":x",
          "eav": "#x",
          "fieldName": "x",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "y",
          "columnNamesForRead": [
            "y",
            "y",
          ],
          "computeFunction": undefined,
          "ean": ":y",
          "eav": "#y",
          "fieldName": "y",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
      ],
      "isLedger": false,
      "isPublic": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": true,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isComposite": false,
          "isSingleField": true,
          "name": "a",
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "projectionType": "all",
          "type": "gsi",
        },
      ],
      "table": {
        "enableEncryption": true,
        "enablePointInTimeRecovery": true,
        "hasPublicModels": false,
        "hasTtl": false,
        "primaryKey": {
          "isComposite": false,
          "isSingleField": true,
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "partitionKeyPrefix": undefined,
          "type": "primary",
        },
        "secondaryIndexes": [
          {
            "isComposite": false,
            "name": "a",
            "partitionKeyIsSingleField": true,
            "projectionType": "all",
            "sortKeyIsSingleField": false,
            "type": "gsi",
          },
        ],
        "tableName": "TableExample",
      },
      "ttlConfig": undefined,
      "typeName": "Example",
    },
  ],
  "tables": [
    {
      "enableEncryption": true,
      "enablePointInTimeRecovery": true,
      "hasPublicModels": false,
      "hasTtl": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": true,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isComposite": false,
          "name": "a",
          "partitionKeyIsSingleField": true,
          "projectionType": "all",
          "sortKeyIsSingleField": false,
          "type": "gsi",
        },
      ],
      "tableName": "TableExample",
    },
  ],
}
`;

exports[`@simpleIndex is repeatable 2`] = `
{
  "models": [
    {
      "consistent": false,
      "fields": [
        {
          "columnName": "_ct",
          "columnNamesForRead": [
            "_ct",
          ],
          "computeFunction": undefined,
          "ean": ":createdAt",
          "eav": "#createdAt",
          "fieldName": "createdAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "id",
          "columnNamesForRead": [
            "id",
            "id",
          ],
          "computeFunction": undefined,
          "ean": ":id",
          "eav": "#id",
          "fieldName": "id",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "ID",
        },
        {
          "columnName": "_md",
          "columnNamesForRead": [
            "_md",
          ],
          "computeFunction": undefined,
          "ean": ":updatedAt",
          "eav": "#updatedAt",
          "fieldName": "updatedAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "_v",
          "columnNamesForRead": [
            "_v",
          ],
          "computeFunction": undefined,
          "ean": ":version",
          "eav": "#version",
          "fieldName": "version",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Int",
        },
        {
          "columnName": "a",
          "columnNamesForRead": [
            "a",
            "a",
          ],
          "computeFunction": undefined,
          "ean": ":a",
          "eav": "#a",
          "fieldName": "a",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "b",
          "columnNamesForRead": [
            "b",
            "b",
          ],
          "computeFunction": undefined,
          "ean": ":b",
          "eav": "#b",
          "fieldName": "b",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "x",
          "columnNamesForRead": [
            "x",
            "x",
          ],
          "computeFunction": undefined,
          "ean": ":x",
          "eav": "#x",
          "fieldName": "x",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "y",
          "columnNamesForRead": [
            "y",
            "y",
          ],
          "computeFunction": undefined,
          "ean": ":y",
          "eav": "#y",
          "fieldName": "y",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
      ],
      "isLedger": false,
      "isPublic": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": true,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isComposite": false,
          "isSingleField": true,
          "name": "a",
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "projectionType": "all",
          "type": "gsi",
        },
        {
          "isComposite": false,
          "isSingleField": true,
          "name": "b",
          "partitionKeyFields": [
            {
              "columnName": "b",
              "columnNamesForRead": [
                "b",
                "b",
              ],
              "computeFunction": undefined,
              "ean": ":b",
              "eav": "#b",
              "fieldName": "b",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "projectionType": "all",
          "type": "gsi",
        },
        {
          "isComposite": false,
          "isSingleField": true,
          "name": "x",
          "partitionKeyFields": [
            {
              "columnName": "x",
              "columnNamesForRead": [
                "x",
                "x",
              ],
              "computeFunction": undefined,
              "ean": ":x",
              "eav": "#x",
              "fieldName": "x",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "projectionType": "all",
          "type": "gsi",
        },
        {
          "isComposite": false,
          "isSingleField": true,
          "name": "y",
          "partitionKeyFields": [
            {
              "columnName": "y",
              "columnNamesForRead": [
                "y",
                "y",
              ],
              "computeFunction": undefined,
              "ean": ":y",
              "eav": "#y",
              "fieldName": "y",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "projectionType": "all",
          "type": "gsi",
        },
      ],
      "table": {
        "enableEncryption": true,
        "enablePointInTimeRecovery": true,
        "hasPublicModels": false,
        "hasTtl": false,
        "primaryKey": {
          "isComposite": false,
          "isSingleField": true,
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "partitionKeyPrefix": undefined,
          "type": "primary",
        },
        "secondaryIndexes": [
          {
            "isComposite": false,
            "name": "a",
            "partitionKeyIsSingleField": true,
            "projectionType": "all",
            "sortKeyIsSingleField": false,
            "type": "gsi",
          },
          {
            "isComposite": false,
            "name": "b",
            "partitionKeyIsSingleField": true,
            "projectionType": "all",
            "sortKeyIsSingleField": false,
            "type": "gsi",
          },
          {
            "isComposite": false,
            "name": "x",
            "partitionKeyIsSingleField": true,
            "projectionType": "all",
            "sortKeyIsSingleField": false,
            "type": "gsi",
          },
          {
            "isComposite": false,
            "name": "y",
            "partitionKeyIsSingleField": true,
            "projectionType": "all",
            "sortKeyIsSingleField": false,
            "type": "gsi",
          },
        ],
        "tableName": "TableExample",
      },
      "ttlConfig": undefined,
      "typeName": "Example",
    },
  ],
  "tables": [
    {
      "enableEncryption": true,
      "enablePointInTimeRecovery": true,
      "hasPublicModels": false,
      "hasTtl": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": true,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isComposite": false,
          "name": "a",
          "partitionKeyIsSingleField": true,
          "projectionType": "all",
          "sortKeyIsSingleField": false,
          "type": "gsi",
        },
        {
          "isComposite": false,
          "name": "b",
          "partitionKeyIsSingleField": true,
          "projectionType": "all",
          "sortKeyIsSingleField": false,
          "type": "gsi",
        },
        {
          "isComposite": false,
          "name": "x",
          "partitionKeyIsSingleField": true,
          "projectionType": "all",
          "sortKeyIsSingleField": false,
          "type": "gsi",
        },
        {
          "isComposite": false,
          "name": "y",
          "partitionKeyIsSingleField": true,
          "projectionType": "all",
          "sortKeyIsSingleField": false,
          "type": "gsi",
        },
      ],
      "tableName": "TableExample",
    },
  ],
}
`;

exports[`PublicModel automatically indexes the publicId field 2`] = `
{
  "models": [
    {
      "consistent": false,
      "fields": [
        {
          "columnName": "_ct",
          "columnNamesForRead": [
            "_ct",
          ],
          "computeFunction": undefined,
          "ean": ":createdAt",
          "eav": "#createdAt",
          "fieldName": "createdAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "id",
          "columnNamesForRead": [
            "id",
            "id",
          ],
          "computeFunction": undefined,
          "ean": ":id",
          "eav": "#id",
          "fieldName": "id",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "ID",
        },
        {
          "columnName": "_md",
          "columnNamesForRead": [
            "_md",
          ],
          "computeFunction": undefined,
          "ean": ":updatedAt",
          "eav": "#updatedAt",
          "fieldName": "updatedAt",
          "isDateType": true,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Date",
        },
        {
          "columnName": "_v",
          "columnNamesForRead": [
            "_v",
          ],
          "computeFunction": undefined,
          "ean": ":version",
          "eav": "#version",
          "fieldName": "version",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "Int",
        },
        {
          "columnName": "a",
          "columnNamesForRead": [
            "a",
            "a",
          ],
          "computeFunction": undefined,
          "ean": ":a",
          "eav": "#a",
          "fieldName": "a",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "b",
          "columnNamesForRead": [
            "b",
            "b",
          ],
          "computeFunction": undefined,
          "ean": ":b",
          "eav": "#b",
          "fieldName": "b",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "x",
          "columnNamesForRead": [
            "x",
            "x",
          ],
          "computeFunction": undefined,
          "ean": ":x",
          "eav": "#x",
          "fieldName": "x",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "y",
          "columnNamesForRead": [
            "y",
            "y",
          ],
          "computeFunction": undefined,
          "ean": ":y",
          "eav": "#y",
          "fieldName": "y",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
        {
          "columnName": "publicId",
          "columnNamesForRead": [
            "publicId",
          ],
          "computeFunction": undefined,
          "ean": ":publicId",
          "eav": "#publicId",
          "fieldName": "publicId",
          "isDateType": false,
          "isRequired": true,
          "isScalarType": true,
          "typeName": "String",
        },
      ],
      "isLedger": false,
      "isPublic": true,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": true,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isComposite": false,
          "isSingleField": true,
          "name": "publicId",
          "partitionKeyFields": [
            {
              "columnName": "publicId",
              "columnNamesForRead": [
                "publicId",
              ],
              "computeFunction": undefined,
              "ean": ":publicId",
              "eav": "#publicId",
              "fieldName": "publicId",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "projectionType": "all",
          "type": "gsi",
        },
      ],
      "table": {
        "enableEncryption": true,
        "enablePointInTimeRecovery": true,
        "hasPublicModels": true,
        "hasTtl": false,
        "primaryKey": {
          "isComposite": false,
          "isSingleField": true,
          "partitionKeyFields": [
            {
              "columnName": "a",
              "columnNamesForRead": [
                "a",
                "a",
              ],
              "computeFunction": undefined,
              "ean": ":a",
              "eav": "#a",
              "fieldName": "a",
              "isDateType": false,
              "isRequired": true,
              "isScalarType": true,
              "typeName": "String",
            },
          ],
          "partitionKeyPrefix": undefined,
          "type": "primary",
        },
        "secondaryIndexes": [
          {
            "isComposite": false,
            "name": "publicId",
            "partitionKeyIsSingleField": true,
            "projectionType": "all",
            "sortKeyIsSingleField": false,
            "type": "gsi",
          },
        ],
        "tableName": "TableExample",
      },
      "ttlConfig": undefined,
      "typeName": "Example",
    },
  ],
  "tables": [
    {
      "enableEncryption": true,
      "enablePointInTimeRecovery": true,
      "hasPublicModels": true,
      "hasTtl": false,
      "primaryKey": {
        "isComposite": false,
        "isSingleField": true,
        "partitionKeyFields": [
          {
            "columnName": "a",
            "columnNamesForRead": [
              "a",
              "a",
            ],
            "computeFunction": undefined,
            "ean": ":a",
            "eav": "#a",
            "fieldName": "a",
            "isDateType": false,
            "isRequired": true,
            "isScalarType": true,
            "typeName": "String",
          },
        ],
        "partitionKeyPrefix": undefined,
        "type": "primary",
      },
      "secondaryIndexes": [
        {
          "isComposite": false,
          "name": "publicId",
          "partitionKeyIsSingleField": true,
          "projectionType": "all",
          "sortKeyIsSingleField": false,
          "type": "gsi",
        },
      ],
      "tableName": "TableExample",
    },
  ],
}
`;
